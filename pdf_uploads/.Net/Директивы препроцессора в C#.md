# ‚öôÔ∏è –î–∏—Ä–µ–∫—Ç–∏–≤—ã –ø—Ä–µ–ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞ –≤ C#

–î–∏—Ä–µ–∫—Ç–∏–≤—ã –ø—Ä–µ–ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞ –≤ C# –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è —Å —Å–∏–º–≤–æ–ª–∞ `#` –∏ **–æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –¥–æ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏**. –û–Ω–∏ –ø–æ–∑–≤–æ–ª—è—é—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å —á–∞—Å—Ç—è–º–∏ –∫–æ–¥–∞, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å **–≤–∫–ª—é—á–µ–Ω—ã –∏–ª–∏ –∏—Å–∫–ª—é—á–µ–Ω—ã** –ø—Ä–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏, –≤–ª–∏—è—Ç—å –Ω–∞ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π, –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥ –∏ —Ç.–¥.

---

## üîß –ß—Ç–æ —Ç–∞–∫–æ–µ –ø—Ä–µ–ø—Ä–æ—Ü–µ—Å—Å–æ—Ä?

–ü—Ä–µ–ø—Ä–æ—Ü–µ—Å—Å–æ—Ä ‚Äî —ç—Ç–æ –º–µ—Ö–∞–Ω–∏–∑–º, –∫–æ—Ç–æ—Ä—ã–π **–∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∏ –∏–∑–º–µ–Ω—è–µ—Ç –∫–æ–¥ –¥–æ –ø–µ—Ä–µ–¥–∞—á–∏ –µ–≥–æ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä—É**. –í –æ—Ç–ª–∏—á–∏–µ –æ—Ç C/C++, –≤ C# –ø—Ä–µ–ø—Ä–æ—Ü–µ—Å—Å–æ—Ä **–Ω–µ —è–≤–ª—è–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ–π —Å—Ç–∞–¥–∏–µ–π** –∫–æ–º–ø–∏–ª—è—Ü–∏–∏, –Ω–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–ª—é—á–µ–≤—ã—Ö –¥–∏—Ä–µ–∫—Ç–∏–≤.

---

## üìú –û—Å–Ω–æ–≤–Ω—ã–µ –¥–∏—Ä–µ–∫—Ç–∏–≤—ã

| –î–∏—Ä–µ–∫—Ç–∏–≤–∞             | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|----------------------|------------|
| `#define`             | –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å–∏–º–≤–æ–ª –¥–ª—è —É—Å–ª–æ–≤–Ω–æ–π –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ |
| `#undef`              | –£–¥–∞–ª—è–µ—Ç —Å–∏–º–≤–æ–ª |
| `#if`, `#elif`, `#else`, `#endif` | –£—Å–ª–æ–≤–Ω–∞—è –∫–æ–º–ø–∏–ª—è—Ü–∏—è |
| `#region`, `#endregion` | –°–≤–æ—Ä–∞—á–∏–≤–∞–µ–º—ã–µ –±–ª–æ–∫–∏ –≤ IDE |
| `#warning`, `#error` | –î–æ–±–∞–≤–ª—è—é—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –∏–ª–∏ –æ—à–∏–±–∫—É –ø—Ä–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ |
| `#line`               | –ò–∑–º–µ–Ω—è–µ—Ç –Ω–æ–º–µ—Ä —Å—Ç—Ä–æ–∫–∏ –∏ –∏–º—è —Ñ–∞–π–ª–∞ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ |
| `#pragma`             | –£–ø—Ä–∞–≤–ª—è–µ—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è–º–∏ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞ |

---

## üß† `#define` –∏ `#undef`

```csharp
#define DEBUG
#undef EXPERIMENTAL
````

> –û–±—ã—á–Ω–æ —Ç–∞–∫–∏–µ —Å–∏–º–≤–æ–ª—ã –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è **–≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø—Ä–æ–µ–∫—Ç–∞** –∏–ª–∏ —á–µ—Ä–µ–∑ IDE, –∞ –Ω–µ –≤—Ä—É—á–Ω—É—é –≤ –∫–æ–¥–µ.

---

## üîÄ –£—Å–ª–æ–≤–Ω–∞—è –∫–æ–º–ø–∏–ª—è—Ü–∏—è (`#if`, `#else`, `#elif`, `#endif`)

```csharp
#define DEBUG

class Program {
    static void Main() {
#if DEBUG
        Console.WriteLine("–†–µ–∂–∏–º –æ—Ç–ª–∞–¥–∫–∏");
#else
        Console.WriteLine("–†–µ–ª–∏–∑–Ω–∞—è —Å–±–æ—Ä–∫–∞");
#endif
    }
}
```

–ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–æ–≥–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã:

```csharp
#if DEBUG && !EXPERIMENTAL
    Console.WriteLine("Debug –±–µ–∑ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω—ã—Ö —Ñ–∏—á");
#endif
```

---

## üß≠ `#region` –∏ `#endregion`

–ü—Ä–æ—Å—Ç–æ —Å–æ–∑–¥–∞—é—Ç **—Å–≤–æ—Ä–∞—á–∏–≤–∞–µ–º—É—é –æ–±–ª–∞—Å—Ç—å –∫–æ–¥–∞** –≤ IDE.

```csharp
#region –°–µ—Ç–µ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

void Connect() { }
void Disconnect() { }

#endregion
```

---

## ‚ö†Ô∏è `#warning` –∏ `#error`

```csharp
#warning –≠—Ç–æ—Ç –∫–æ–¥ —É—Å—Ç–∞—Ä–µ–ª ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–µ—Ç–æ–¥ ConnectV2

#error –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ CONFIG_KEY –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ
```

> –¢–∞–∫–∏–µ –¥–∏—Ä–µ–∫—Ç–∏–≤—ã —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –¥–ª—è –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π –∏–ª–∏ –∑–∞—â–∏—Ç—ã –æ—Ç –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Å–±–æ—Ä–∫–∏.

---

## üéØ `#pragma`

### üìå `#pragma warning`

–ü–æ–∑–≤–æ–ª—è–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è–º–∏ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞: **–æ—Ç–∫–ª—é—á–∞—Ç—å**, **–≤–∫–ª—é—á–∞—Ç—å**, **–≤—Ä–µ–º–µ–Ω–Ω–æ –ø–æ–¥–∞–≤–ª—è—Ç—å**.

```csharp
#pragma warning disable CS0219  // –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–±—ä—è–≤–ª–µ–Ω–∞, –Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è

int unused = 0;

#pragma warning restore CS0219
```

* `CS0219` ‚Äî –∫–æ–¥ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞ (–º–æ–∂–Ω–æ –Ω–∞–≤–µ—Å—Ç–∏ –∫—É—Ä—Å–æ—Ä –≤ IDE).
* –ú–æ–∂–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å **–≤—Å–µ** –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è:

```csharp
#pragma warning disable
```

* –ò —Å–Ω–æ–≤–∞ –≤–∫–ª—é—á–∏—Ç—å:

```csharp
#pragma warning restore
```

---

### üîç –ì–¥–µ —ç—Ç–æ –ø–æ–ª–µ–∑–Ω–æ?

1. **–î–ª—è "–≥—Ä—è–∑–Ω—ã—Ö" —É—á–∞—Å—Ç–∫–æ–≤ –∫–æ–¥–∞**, –≥–¥–µ —Ç—ã –æ—Å–æ–∑–Ω–∞–Ω–Ω–æ –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—à—å –ø—Ä–∞–≤–∏–ª–æ:

   ```csharp
   #pragma warning disable CS0168
   try {
       // –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è ex –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –Ω–æ –Ω—É–∂–Ω–∞ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
   } catch (Exception ex) { }
   #pragma warning restore CS0168
   ```

2. **–ü—Ä–∏ –º–∏–≥—Ä–∞—Ü–∏–∏ –∫–æ–¥–∞**, –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –≤—Ä–µ–º–µ–Ω–Ω–æ –ø–æ–¥–∞–≤–∏—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–æ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π.

---

## üìã –î—Ä—É–≥–∏–µ –¥–∏—Ä–µ–∫—Ç–∏–≤—ã

### `#line`

–†–µ–¥–∫–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –Ω–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç "–ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å" –Ω–æ–º–µ—Ä —Å—Ç—Ä–æ–∫–∏ –∏ –∏–º—è —Ñ–∞–π–ª–∞:

```csharp
#line 100 "VirtualFile.cs"
Console.WriteLine("–û—à–∏–±–∫–∞ –≤ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–º —Ñ–∞–π–ª–µ");
#line default
```

> –ß–∞—Å—Ç–æ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–¥–∞.

---

### `#nullable`

–£–ø—Ä–∞–≤–ª—è–µ—Ç –ø–æ–≤–µ–¥–µ–Ω–∏–µ–º –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π nullable –≤ –Ω–æ–≤—ã—Ö –≤–µ—Ä—Å–∏—è—Ö C#:

```csharp
#nullable enable
string? s = null;
#nullable disable
```

---

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–∏–º–≤–æ–ª–æ–≤ –≤ `.csproj`

–í–º–µ—Å—Ç–æ `#define` –≤ –∫–æ–¥–µ –ª—É—á—à–µ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Å–∏–º–≤–æ–ª—ã –≤ —Ñ–∞–π–ª–µ –ø—Ä–æ–µ–∫—Ç–∞:

```xml
<PropertyGroup Condition="'$(Configuration)' == 'Debug'">
  <DefineConstants>DEBUG;TRACE;EXPERIMENTAL</DefineConstants>
</PropertyGroup>
```

---

## üí° –ü—Ä–∏–º–µ—Ä—ã —Ä–µ–∞–ª—å–Ω–æ–≥–æ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è

| –°—Ü–µ–Ω–∞—Ä–∏–π                                  | –†–µ—à–µ–Ω–∏–µ                                   |
| ----------------------------------------- | ----------------------------------------- |
| –†–∞–∑–Ω—ã–µ –±–ª–æ–∫–∏ –∫–æ–¥–∞ –¥–ª—è Debug –∏ Release     | `#if DEBUG`                               |
| –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º             | `#if WINDOWS`, `#if LINUX`, `#if ANDROID` |
| –ü–æ–¥–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π –¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–∏    | `#pragma warning disable`                 |
| –í—Ä–µ–º–µ–Ω–Ω–æ–µ –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤        | `#if EXPERIMENTAL`                        |
| –í–∏–∑—É–∞–ª—å–Ω–æ–µ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –±–æ–ª—å—à–∏—Ö –∫—É—Å–∫–æ–≤ –∫–æ–¥–∞ | `#region`, `#endregion`                   |
| –í—Å—Ç–∞–≤–∫–∞ –∑–∞–≥–ª—É—à–µ–∫ –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –≤ –∫–æ–¥      | `#error`, `#warning`                      |

---

## üö´ –ß—Ç–æ –¥–∏—Ä–µ–∫—Ç–∏–≤—ã **–Ω–µ –¥–µ–ª–∞—é—Ç**?

* –ù–µ –≤–ª–∏—è—é—Ç –Ω–∞ –ø–æ–≤–µ–¥–µ–Ω–∏–µ **–≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è**
* –ù–µ –∑–∞–º–µ–Ω—è—é—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å—Ä–µ–¥—ã –∏–ª–∏ appsettings.json
* –ù–µ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–∞–∫ `#include` –≤ C++

---

## üß™ –ü—Ä–∏–º–µ—Ä: –≤–∫–ª—é—á–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –æ—Ç–ª–∞–¥–∫–µ

```csharp
public class Logger {
    [Conditional("DEBUG")]
    public static void Log(string message) {
        Console.WriteLine(message);
    }
}
```

> `System.Diagnostics.ConditionalAttribute` —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ `#if DEBUG`, –Ω–æ –¥–ª—è –º–µ—Ç–æ–¥–æ–≤. –ú–µ—Ç–æ–¥ –ø—Ä–æ—Å—Ç–æ –Ω–µ –ø–æ–ø–∞–¥—ë—Ç –≤ –∫–æ–º–ø–∏–ª—è—Ü–∏—é, –µ—Å–ª–∏ DEBUG –Ω–µ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω.

---

## üìå –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–î–∏—Ä–µ–∫—Ç–∏–≤—ã –ø—Ä–µ–ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞ –ø–æ–ª–µ–∑–Ω—ã –¥–ª—è:

* –£–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è–º–∏ (Debug/Release)
* –ü–æ–¥–¥–µ—Ä–∂–∫–∏ –∫—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ—Å—Ç–∏
* –í—Ä–µ–º–µ–Ω–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–¥–æ–º –∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è–º–∏

–ù–æ –æ–Ω–∏ –¥–æ–ª–∂–Ω—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è **—É–º–µ—Ä–µ–Ω–Ω–æ**, —á—Ç–æ–±—ã –Ω–µ —Å–¥–µ–ª–∞—Ç—å –ø—Ä–æ–µ–∫—Ç —Å–ª–∏—à–∫–æ–º –∑–∞–ø—É—Ç–∞–Ω–Ω—ã–º.