# üßæ `appsettings.json`

–≠—Ç–æ **–æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∞–π–ª** –≤ .NET Core / .NET 5+ –ø—Ä–æ–µ–∫—Ç–∞—Ö.

–ü—Ä–∏–º–µ—Ä `appsettings.json`:

```json
{
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft": "Warning"
    }
  },
  "ConnectionStrings": {
    "Default": "Server=localhost;Database=MyDb;User Id=sa;Password=123;"
  },
  "MySettings": {
    "ApiKey": "abc123"
  }
}
```

---

## üìç –ì–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:

* –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î
* –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
* –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è API –∫–ª—é—á–µ–π, —Ñ–ª–∞–≥–æ–≤, –ø—É—Ç–µ–π –∏ —Ç.–¥.
* –ß—Ç–µ–Ω–∏–µ –∏–∑ –Ω–µ–≥–æ —á–µ—Ä–µ–∑ `Configuration["MySettings:ApiKey"]`

---

## üîÑ –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ `appsettings.json`:

| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞                     | –ó–Ω–∞—á–µ–Ω–∏–µ                                                                          |
| ---------------------------------- | --------------------------------------------------------------------------------- |
| üìÅ –•—Ä–∞–Ω–∏—Ç—Å—è –≤ –ø—Ä–æ–µ–∫—Ç–µ              | –í –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞                                                                   |
| üì¶ –í–∫–ª—é—á–∞–µ—Ç—Å—è –≤ —Å–±–æ—Ä–∫—É             | –ö–æ–ø–∏—Ä—É–µ—Ç—Å—è –ø—Ä–∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –≤ `output`                                              |
| üîÑ –ú–æ–∂–Ω–æ –º–µ–Ω—è—Ç—å –±–µ–∑ –ø–µ—Ä–µ–∫–æ–º–ø–∏–ª—è—Ü–∏–∏ | –î–∞ (–µ—Å–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è)                                              |
| üß™ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Å–ª–æ–∏               | `appsettings.json`, `appsettings.Development.json`, `appsettings.Production.json` |
| ‚úÖ –ò–º–µ–µ—Ç –∏–µ—Ä–∞—Ä—Ö–∏—é                   | –î–∞ (–∫–ª—é—á–∏ –º–æ–∂–Ω–æ —É–∫–∞–∑—ã–≤–∞—Ç—å —Å `:`)                                                  |

---

## üìÅ –ü—Ä–∏–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–ª—è —Å—Ä–µ–¥:

* `appsettings.json` ‚Äî –±–∞–∑–æ–≤–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
* `appsettings.Development.json` ‚Äî –ø–µ—Ä–µ–∫—Ä—ã–≤–∞–µ—Ç –±–∞–∑–æ–≤—É—é –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
* `appsettings.Production.json` ‚Äî –≤ –ø—Ä–æ–¥–µ

–ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ `ASPNETCORE_ENVIRONMENT`.

---

# üåø –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (`ENV`)

–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è ‚Äî —ç—Ç–æ **–≤–Ω–µ—à–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ**, –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–Ω–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:

* –í –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–µ
* –í —Ñ–∞–π–ª–µ `.env` (—á–µ—Ä–µ–∑ —Å—Ç–æ—Ä–æ–Ω–Ω–∏–µ –ø–∞–∫–µ—Ç—ã)
* –í Docker
* –í —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö

–ü—Ä–∏–º–µ—Ä:

```bash
export MySettings__ApiKey="secret-from-env"
```

> –í .NET –¥–≤–æ–π–Ω–æ–µ –ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏–µ `__` –∑–∞–º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ `:` –¥–ª—è –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π.

---

## üìç –ì–¥–µ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è:

* –í CI/CD
* –í Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö
* –ù–∞ –ø—Ä–æ–¥-—Å–µ—Ä–≤–µ—Ä–∞—Ö
* –í Kubernetes
* –î–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è **—Å–µ–∫—Ä–µ—Ç–æ–≤, –ø–∞—Ä–æ–ª–µ–π**, API-–∫–ª—é—á–µ–π (–≤–º–µ—Å—Ç–æ `appsettings.json`)

---

## üîÑ –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è:

| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞                    | –ó–Ω–∞—á–µ–Ω–∏–µ                                           |
| --------------------------------- | -------------------------------------------------- |
| üíæ –ù–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –ø—Ä–æ–µ–∫—Ç–µ          | –û–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –≤ –æ–∫—Ä—É–∂–µ–Ω–∏–∏                           |
| üîí –•–æ—Ä–æ—à–∏ –¥–ª—è —Å–µ–∫—Ä–µ—Ç–æ–≤            | –ë–µ–∑–æ–ø–∞—Å–Ω–µ–µ, —á–µ–º —Ö—Ä–∞–Ω–∏—Ç—å –ø–∞—Ä–æ–ª–∏ –≤ —Ñ–∞–π–ª–µ             |
| üß± –ü–µ—Ä–µ–∫—Ä—ã–≤–∞—é—Ç `appsettings.json` | –î–∞, –ø—Ä–∏ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–∏ –∫–ª—é—á–∞                           |
| üß© –ù–µ –∏–º–µ—é—Ç –∏–µ—Ä–∞—Ä—Ö–∏–∏              | –¢–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ `__`                                  |
| üß™ –†–∞–±–æ—Ç–∞—é—Ç –±–µ–∑ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞       | –ù–µ—Ç, –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è |

---

# üîÅ –°—Ä–∞–≤–Ω–µ–Ω–∏–µ `appsettings.json` vs `ENV`

| –°–≤–æ–π—Å—Ç–≤–æ                 | `appsettings.json`                | –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (`ENV`)                        |
| ------------------------ | --------------------------------- | --------------------------------------------------- |
| üì¶ –•—Ä–∞–Ω–µ–Ω–∏–µ              | –í–Ω—É—Ç—Ä–∏ –ø—Ä–æ–µ–∫—Ç–∞                    | –í–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ (–≤ –û–°, Docker, CI –∏ —Ç.–ø.)               |
| üîí –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Å–µ–∫—Ä–µ—Ç–æ–≤ | ‚ùå –ù–µ—Ç (–Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ)               | ‚úÖ –î–∞                                                |
| üåç –£—Ä–æ–≤–µ–Ω—å —Å—Ä–µ–¥—ã         | –ï—Å—Ç—å `appsettings.{ENV}.json`     | –ó–∞–¥–∞—é—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é                                   |
| ‚öôÔ∏è –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ       | –ú–æ–∂–µ—Ç –±—ã—Ç—å –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—ë–Ω          | –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –≤—Å—ë –æ—Å—Ç–∞–ª—å–Ω–æ–µ                        |
| üîÅ –ì–æ—Ä—è—á–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞  | –ß–∞—Å—Ç–∏—á–Ω–æ, —á–µ—Ä–µ–∑ —Å—Ç–æ—Ä–æ–Ω–Ω–∏–µ —Ä–µ—à–µ–Ω–∏—è | ‚ùå –ù–µ—Ç                                               |
| üß© –ì–∏–±–∫–æ—Å—Ç—å              | –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –≤—Å–µ—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫        | –õ—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –¥–ª—è —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö |

---

# ü§ù –ö–∞–∫ –æ–Ω–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –≤–º–µ—Å—Ç–µ?

.NET –∑–∞–≥—Ä—É–∂–∞–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ **–≤ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ** ‚Äî –æ—Ç –º–µ–Ω–µ–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã—Ö –∫ –±–æ–ª–µ–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–º:

1. `appsettings.json`
2. `appsettings.{Environment}.json`
3. **–°–µ–∫—Ä–µ—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–≤ dev)**
4. **–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è**
5. **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏**

–≠—Ç–æ –∑–Ω–∞—á–∏—Ç: **ENV –ø–µ—Ä–µ–∫—Ä—ã–≤–∞–µ—Ç –≤—Å—ë**, –µ—Å–ª–∏ –∫–ª—é—á —Å–æ–≤–ø–∞–¥–∞–µ—Ç.

---

## üõ† –ü—Ä–∏–º–µ—Ä –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

### `appsettings.json`:

```json
{
  "MySettings": {
    "ApiKey": "from-config"
  }
}
```

### `ENV`:

```bash
MySettings__ApiKey="from-env"
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–¥–µ:

```csharp
string apiKey = configuration["MySettings:ApiKey"]; // –±—É–¥–µ—Ç "from-env"
```

---

## ‚úÖ –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —á—Ç–æ?

| –°—Ü–µ–Ω–∞—Ä–∏–π                       | –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π —Å–ø–æ—Å–æ–±           |
| ------------------------------ | ------------------------------ |
| –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é         | `appsettings.json`             |
| –õ–æ–∫–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ | `appsettings.Development.json` |
| –°–µ–∫—Ä–µ—Ç—ã (API-–∫–ª—é—á–∏, –ø–∞—Ä–æ–ª–∏)    | `ENV` –∏–ª–∏ Secret Manager       |
| –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤ CI/CD        | `ENV`                          |
| –í Docker / Kubernetes          | `ENV` —á–µ—Ä–µ–∑ `.env`, `Secrets`  |

