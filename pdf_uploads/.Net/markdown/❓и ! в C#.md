# ‚ùì `?` –∏ `!` –≤ C\#

–í C# —Å–∏–º–≤–æ–ª—ã `?` –∏ `!` ‚Äî –≤–∞–∂–Ω—ã–µ —á–∞—Å—Ç–∏ —è–∑—ã–∫–∞, –æ—Å–æ–±–µ–Ω–Ω–æ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å `nullable`-—Ç–∏–ø–∞–º–∏ –∏ –ª–æ–≥–∏–∫–æ–π. –ù–∏–∂–µ ‚Äî –Ω–∞–≥–ª—è–¥–Ω–∞—è —à–ø–∞—Ä–≥–∞–ª–∫–∞ —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏.

---

## üîπ `!` ‚Äî –ª–æ–≥–∏—á–µ—Å–∫–æ–µ –æ—Ç—Ä–∏—Ü–∞–Ω–∏–µ –∏ –ø–æ–¥–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π

| –ü—Ä–∏–º–µ—Ä       | –û–ø–∏—Å–∞–Ω–∏–µ                                                |
| ------------ | ------------------------------------------------------- |
| `!true`      | –õ–æ–≥–∏—á–µ—Å–∫–æ–µ –æ—Ç—Ä–∏—Ü–∞–Ω–∏–µ: `false`                           |
| `!isReady`   | –ò–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç –±—É–ª–µ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ                            |
| `someVar!`   | –ü–æ–¥–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞ –æ–± `null`         |
| `user!.Name` | –ö–æ–º–ø–∏–ª—è—Ç–æ—Ä ¬´–ø–æ–≤–µ—Ä–∏—Ç¬ª, —á—Ç–æ `user` –Ω–µ `null`, –Ω–æ —Ä–∏—Å–∫ NRE |

### üìå –ü—Ä–∏–º–µ—Ä:

```csharp
string? name = null;
Console.WriteLine(name!); // NullReferenceException –≤ —Ä–∞–Ω—Ç–∞–π–º–µ, –Ω–æ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –Ω–µ—Ç
```

---

## üîπ `?` ‚Äî nullable-—Ç–∏–ø, –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –¥–æ—Å—Ç—É–ø, null-–æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ

| –°–∏–Ω—Ç–∞–∫—Å–∏—Å             | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                                           | –ü—Ä–∏–º–µ—Ä                 |
| --------------------- | ---------------------------------------------------- | ---------------------- |
| `int?`                | Nullable —Ç–∏–ø (`int`, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –±—ã—Ç—å `null`)      | `int? age = null;`     |
| `string?`             | Nullable —Å—Å—ã–ª–æ—á–Ω—ã–π —Ç–∏–ø                               | `string? name = null;` |
| `obj?.Method()`       | Null-—É—Å–ª–æ–≤–Ω—ã–π –≤—ã–∑–æ–≤ –º–µ—Ç–æ–¥–∞                           | `person?.PrintInfo();` |
| `obj?.Property`       | Null-—É—Å–ª–æ–≤–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ —Å–≤–æ–π—Å—Ç–≤—É                      | `person?.Name`         |
| `value ?? defaultVal` | Null-–æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ (–µ—Å–ª–∏ null, —Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥—Ä—É–≥–æ–µ) | `name ?? "–ì–æ—Å—Ç—å"`      |
| `value ??= newValue`  | –ü—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏–µ, –µ—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ —Ä–∞–≤–Ω–æ `null`             | `name ??= "–ì–æ—Å—Ç—å";`    |

---

## üß† –¢–∞–±–ª–∏—Ü–∞-–ø–æ–¥—Å–∫–∞–∑–∫–∞

| –û–ø–µ—Ä–∞—Ç–æ—Ä     | –ù–∞–∑–≤–∞–Ω–∏–µ                    | –ü—Ä–∏–º–µ—Ä               | –ß—Ç–æ –¥–µ–ª–∞–µ—Ç                                 |
| ------------ | --------------------------- | -------------------- | ------------------------------------------ |
| `!`          | –õ–æ–≥–∏—á–µ—Å–∫–æ–µ –æ—Ç—Ä–∏—Ü–∞–Ω–∏–µ        | `!isOnline`          | `true ‚Üí false`, `false ‚Üí true`             |
| `!` (–ø–æ—Å–ª–µ)  | –ü–æ–¥–∞–≤–ª–µ–Ω–∏–µ nullable-warning | `user!.Name`         | –ì–æ–≤–æ—Ä–∏—Ç: "–∑–¥–µ—Å—å —Ç–æ—á–Ω–æ –Ω–µ null"             |
| `?` (–≤ —Ç–∏–ø–µ) | Nullable —Ç–∏–ø                | `int? x = null;`     | –ü–æ–∑–≤–æ–ª—è–µ—Ç –∑–Ω–∞—á–∏–º–æ–º—É —Ç–∏–ø—É –±—ã—Ç—å `null`       |
| `?.`         | Null-—É—Å–ª–æ–≤–Ω—ã–π –¥–æ—Å—Ç—É–ø        | `user?.Name`         | –í–µ—Ä–Ω—ë—Ç `null`, –µ—Å–ª–∏ `user == null`         |
| `?.()`       | Null-—É—Å–ª–æ–≤–Ω—ã–π –≤—ã–∑–æ–≤ –º–µ—Ç–æ–¥–∞  | `user?.Print();`     | –ù–µ –≤—ã–∑–æ–≤–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ, –µ—Å–ª–∏ `user == null` |
| `??`         | Null-–æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ            | `name ?? "Default"`  | –ï—Å–ª–∏ —Å–ª–µ–≤–∞ `null`, –≤–µ—Ä–Ω—ë—Ç –∑–Ω–∞—á–µ–Ω–∏–µ —Å–ø—Ä–∞–≤–∞  |
| `??=`        | Null-–æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ + –ø—Ä–∏—Å–≤.   | `name ??= "Default"` | –ü—Ä–∏—Å–≤–æ–∏—Ç, –µ—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ `null`             |

---

### **Pattern Matching —Å `is not null` / `is null`**

```csharp
if (person is not null)
{
    Console.WriteLine(person.Name);
}
```

> –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å–ø–æ—Å–æ–± –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ `null` –±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `!=`.

---

## üì¶ –ü–æ–ª–Ω—ã–π –ø—Ä–∏–º–µ—Ä

```csharp
class Person
{
    public string? Name { get; set; }

    public void PrintInfo()
    {
        Console.WriteLine($"–ò–º—è: {Name}");
    }
}

class Program
{
    static void Main()
    {
        Person? user = null;

        // Null-—É—Å–ª–æ–≤–Ω—ã–π –¥–æ—Å—Ç—É–ø
        Console.WriteLine(user?.Name); // –ù–µ –≤—ã–∑–æ–≤–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ

        // –ü–æ–¥–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è ‚Äî –æ–ø–∞—Å–Ω–æ!
        Console.WriteLine(user!.Name); // –ë—Ä–æ—Å–∏—Ç NullReferenceException

        // Null-–æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ
        string? name = null;
        string finalName = name ?? "–ì–æ—Å—Ç—å";
        Console.WriteLine(finalName); // –ì–æ—Å—Ç—å

        // Null-–æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Å –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏–µ–º
        name ??= "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å";
        Console.WriteLine(name); // –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å

        // –û–±—ã—á–Ω–æ–µ –æ—Ç—Ä–∏—Ü–∞–Ω–∏–µ
        bool isOnline = false;
        if (!isOnline)
        {
            Console.WriteLine("–ù–µ –≤ —Å–µ—Ç–∏");
        }
    }
}
```

---

## üí° –°–æ–≤–µ—Ç—ã

* `!` —Å—Ç–æ–∏—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ—Å—Ç—å—é ‚Äî —ç—Ç–æ **–æ–±–µ—â–∞–Ω–∏–µ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä—É**, –∏ –µ—Å–ª–∏ —Ç—ã –æ—à–∏–±—Å—è, —Ç–æ –ø–æ–ª—É—á–∏—à—å `NullReferenceException`.
* `?.` –±–µ–∑–æ–ø–∞—Å–Ω–µ–µ, –æ—Å–æ–±–µ–Ω–Ω–æ –≤ —Ü–µ–ø–æ—á–∫–∞—Ö: `obj?.Child?.Name`
* –°—Ç–∞—Ä–∞–π—Å—è –∏–∑–±–µ–≥–∞—Ç—å `!`, –µ—Å–ª–∏ –º–æ–∂–Ω–æ –æ–±–æ–π—Ç–∏—Å—å `if (obj != null)` –∏–ª–∏ pattern matching
* `??` –∏ `??=` –ø–æ–º–æ–≥–∞—é—Ç —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å **–∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é**

---

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

* [Nullable Reference Types ‚Äî Microsoft Docs](https://learn.microsoft.com/dotnet/csharp/nullable-references)
* [–û–ø–µ—Ä–∞—Ç–æ—Ä null-–æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è (??) ‚Äî Microsoft Docs](https://learn.microsoft.com/dotnet/csharp/language-reference/operators/null-coalescing-operator)
